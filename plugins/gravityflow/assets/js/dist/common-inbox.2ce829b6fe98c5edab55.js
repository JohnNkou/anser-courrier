"use strict";(self.webpackChunkgravityflow=self.webpackChunkgravityflow||[]).push([[715],{5781:function(t,e,i){i.r(e),i.d(e,{default:function(){return Wt}});var a=i(1951),n={},o={activeGrid:"",actionData:[],actionMenuOpen:!1,activeAction:null,activeActionKey:"",activeActionNote:"",activeActionSubmitType:"",activeActionTrigger:null,activeGridNode:null,activeRowNode:null,cleanDocTitle:document.title||"",dragging:!1,latestUpdateData:{},newRowsOnUpdate:0,notificationShown:!1,openInNewTab:!1,previousRowCount:0,pushEnabled:!1},r={refreshTimers:{},grids:{},gridOptions:{},flyouts:{},notifications:{}},c=function(t){var e=t.delegateTarget.parentNode.dataset.gridId;r.gridOptions[e].api.setFilterModel(null)},d={activeGrid:null},g=function(){document.body.classList.remove("gflow-grid--fullscreen-active"),a.qg.unlock(),d.activeGrid.style.left="".concat(d.activeGrid.dataset.left,"px"),d.activeGrid.style.top="".concat(d.activeGrid.dataset.top,"px"),d.activeGrid.style.width="".concat(d.activeGrid.dataset.width,"px"),d.activeGrid.style.height="".concat(d.activeGrid.dataset.height,"px"),setTimeout((function(){var t=(0,a.v$)("gflow-grid-placeholder")[0];t.parentNode.removeChild(t),d.activeGrid.classList.remove("gflow-grid--animate"),d.activeGrid.classList.remove("gflow-grid--fullscreen"),d.activeGrid.style.left="",d.activeGrid.style.top="",d.activeGrid.style.width="",d.activeGrid.style.height=""}),400)},l=function(t){var e;d.activeGrid=t.delegateTarget.parentNode.parentNode.parentNode,d.activeGrid.classList.contains("gflow-grid--fullscreen")?g():(e=d.activeGrid.getBoundingClientRect(),d.activeGrid.insertAdjacentHTML("beforebegin",'<div data-js="gflow-grid-placeholder" style="height: '.concat(e.height,'px"></div>')),d.activeGrid.setAttribute("data-top",e.top),d.activeGrid.setAttribute("data-left",e.left),d.activeGrid.setAttribute("data-height",e.height),d.activeGrid.setAttribute("data-width",e.width),d.activeGrid.style.left="".concat(e.left,"px"),d.activeGrid.style.top="".concat(e.top,"px"),d.activeGrid.style.width="".concat(e.width,"px"),d.activeGrid.style.height="".concat(e.height,"px"),d.activeGrid.classList.add("gflow-grid--fullscreen"),setTimeout((function(){var t=document.body.classList.contains("admin-bar")?32:0;d.activeGrid.classList.add("gflow-grid--animate"),d.activeGrid.style.left="0",d.activeGrid.style.top="".concat(t,"px"),d.activeGrid.style.width="100%",d.activeGrid.style.height="calc(100% - ".concat(t,"px)")}),25),setTimeout((function(){document.body.classList.add("gflow-grid--fullscreen-active"),a.qg.lock(!1)}),400))},s=function(t){d.activeGrid&&"Escape"===t.key&&d.activeGrid.classList.contains("gflow-grid--fullscreen")&&g()},u=i(6796),p=i(3345),f=i.n(p),_="inbox_default",v={animateRows:!1},m=(null===f()||void 0===f()?void 0:f().grids)||{},h=function(t){var e=[];return r.gridOptions[t].api.forEachNode((function(t){return e.push(t.data.id)})),e},b=function(t){var e=t.delegateTarget,i=(0,a.As)(e,'[data-js="gflow-inbox"]');return w(i)},w=function(t){return t.dataset.gridId||_},y=function(t){var e=t.delegateTarget,i=b(t);r.gridOptions[i].api.setQuickFilter(e.value)},T=function(t){var e=b(t);r.gridOptions[e].api.setQuickFilter(null)},k=i(7083),C=i(9137),x=i(5952),A=i(586),O=(null===f()||void 0===f()?void 0:f().default_date_format)||"d/m/Y",L=function(){return(0,x.Z)((function t(){(0,C.Z)(this,t)}),[{key:"init",value:function(t){this.params=t,this.eGui=document.createElement("div"),this.eGui.setAttribute("role","presentation"),this.eGui.classList.add("ag-input-wrapper"),this.eGui.classList.add("custom-date-filter"),this.eGui.innerHTML='\n\t\t\t<input type="text" data-input style="width: 100%;" />\n\t\t\t<a class="ag-grid__date-toggle" title="toggle" data-toggle>\n\t\t        <i class="gflow-icon gflow-icon--calendar"></i>\n\t\t    </a>\n\t\t\n\t\t    <a class="ag-grid__date-clear-toggle" title="clear" data-clear>\n\t\t        <i class="gflow-icon gflow-icon--x"></i>\n\t\t    </a>\n\t\t',this.eInput=this.eGui.querySelector("input"),this.picker=(0,A.Z)(this.eGui,{onChange:this.onDateChanged.bind(this),dateFormat:O,wrap:!0}),this.picker.calendarContainer.classList.add("ag-custom-component-popup"),this.date=null}},{key:"getGui",value:function(){return this.eGui}},{key:"onDateChanged",value:function(t){this.date=t[0]||null,this.params.onDateChanged()}},{key:"getDate",value:function(){return this.date}},{key:"setDate",value:function(t){this.picker.setDate(t),this.date=t}},{key:"setInputPlaceholder",value:function(){this.eInput.setAttribute("placeholder",O)}}])}(),G=i(1686),M=i.n(G),S={gridMutationEvents:["onModelUpdated","onColumnResized","onColumnVisible","onDragStopped"],localStorageSettings:["push_enabled"],openNewTabKeycodes:["ShiftLeft","ShiftRight"]},E=function(t){-1!==S.openNewTabKeycodes.indexOf(t.code)&&(o.openInNewTab="keydown"===t.type)},D=i(5311),R=i.n(D),j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";o.openInNewTab?(0,a.RB)(t):window.location.href=t},F=(null===f()||void 0===f()?void 0:f().i18n)||{},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return'\n\t<span class="gform-flyout__setting-label">\n\t\t'.concat(F.settings_push_title,'\n\t</span>\n\t<span class="gform-flyout__setting-desc">\n\t\t').concat(F.settings_push_desc,"\n\t</span>\n\t").concat(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"gform-toggle";return'\n\t<div class="'.concat(arguments.length>5&&void 0!==arguments[5]?arguments[5]:"gform-field__toggle",'">\n\t\t<span class="gform-settings-input__container">\n\t\t\t<input \n\t\t\t\ttype="checkbox" \n\t\t\t\tclass="gform-field__toggle-input" \n\t\t\t\tdata-js="').concat(o,'" \n\t\t\t\t').concat(t?"id=".concat(t):"","\n\t\t\t\t").concat(e?"name=".concat(e):"","\n\t\t\t\t").concat(i?"checked":"",'\n\t\t\t>\n\t\t\t<label class="gform-field__toggle-container" ').concat(t?"for=".concat(t):"",'>\n\t\t\t\t<span \n\t\t\t\t\tclass="gform-field__toggle-switch-text screen-reader-text"\n\t\t\t\t\tdata-disabled-text="').concat(a,'"\n\t\t\t\t\tdata-enabled-text="').concat(n,'"\n\t\t\t\t>').concat(i?n:a,'</span>\n\t\t\t\t<span class="gform-field__toggle-switch"></span>\n\t\t\t</label>\n\t\t</span>\n\t</div>\n\t')}("inbox-setting--push-enabled-".concat(e),"inbox-setting--push-enabled",t.push_enabled,F.disabled,F.enabled,"gform-field__toggle gform-flyout__setting","inbox-setting"),"\n\t")},N=window.gravityflow_inbox_strings||{},P=function(){return(0,x.Z)((function t(){(0,C.Z)(this,t)}),[{key:"init",value:function(t){var e=t.value,i=document.createElement("div");i.innerHTML='\n\t\t\t<a class="gflow-inbox__entry-cell-link" href="'.concat(t.node.data.url_entry,'"></a>\n\t\t'),e&&e.actions.length?(o.actionData.push({entryId:e.entryId,entryUrl:t.data.url_entry,actions:e.actions}),this.eGui=document.createElement("div"),this.eGui.classList.add("gflow-grid__actions-container"),this.eGui.innerHTML=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return'<button \n\t\tclass="gflow-grid__actions-trigger gflow-icon gflow-icon--more-vertical" \n\t\taria-label="'.concat(F.view_quick_actions,'"\n\t\tdata-js="gflow-quick-actions-trigger"\n\t\tdata-id="').concat(t,'"\n\t\tdata-url="').concat(e,'"\n\t></button>')}(e.entryId,t.data.url_entry)):this.eGui=i}},{key:"getGui",value:function(){return this.eGui}}])}(),z=function(t){t.parentNode.removeChild(t),n.activeActionMenu&&(n.activeActionMenu.classList.remove("gflow-grid__actions-menu--ajax-running"),n.activeActionMenu.classList.remove("gflow-grid__actions-menu--ajax-action-".concat(o.activeActionSubmitType)))},q=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=(0,a.v$)("gform-loading-mask")[0];t?(n.activeActionMenu.classList.add("gflow-grid__actions-menu--ajax-success"),setTimeout((function(){n.activeActionMenu.classList.add("gflow-grid__actions-menu--fade-out"),setTimeout((function(){"Enter"===o.activeActionKey&&o.activeRowNode.nextElementSibling&&(0,a.v$)(".ag-cell",!1,o.activeRowNode.nextElementSibling,!0)[0].focus({preventScroll:!0}),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.api.forEachNode((function(i){Number(i.data.id)===Number(e)&&(t.rowData.splice(i.rowIndex,1),t.api.setRowData(t.rowData))}))}(r.gridOptions[o.activeGrid],o.activeActionMenuEntryId),z(e),$()}),400)}),600)):z(e)},H=function(){R().ajax({method:"POST",url:"".concat(null==N?void 0:N.restUrl,"gf/v2/entries/").concat(o.activeActionMenuEntryId,"/workflow/approvals"),data:{action:o.activeActionSubmitType,gravityflow_note:n.activeActionMenuNote.value},beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",null==N?void 0:N.nonce),n.activeActionMenu.classList.add("gflow-grid__actions-menu--ajax-running"),n.activeActionMenu.classList.add("gflow-grid__actions-menu--ajax-action-".concat(o.activeActionSubmitType)),document.body.insertAdjacentHTML("beforeend",'\n\t<div class="gflow-inbox__loading-mask" data-js="gform-loading-mask"></div>\n')},success:function(t){"success"===t.status?q():(q(!1),alert(t.feedback))},fail:function(t){q(!1),alert(t)}})},Z=function(t){var e=t.delegateTarget,i=e.dataset.action,a=e.dataset.requiresNote;"edit"===i?j(e.dataset.url):"approve"!==i&&"reject"!==i||(o.activeActionSubmitType=i,function(){"true"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")?(n.activeActionMenuNote.focus(),n.activeActionMenu.classList.add("gflow-grid__actions-menu--note-active")):H()}(a,e))},V=function(){n.activeActionMenuSubmit.disabled=n.activeActionMenuNote.value.trim().length<=0},U=function(t){if("cancel"===t.delegateTarget.dataset.action)return n.activeActionMenuNote.value="",n.activeActionMenuSubmit.disabled=!0,void n.activeActionMenu.classList.remove("gflow-grid__actions-menu--note-active");H()},B=function(){var t=document.getElementById("wpadminbar"),e=t?t.offsetHeight:0,i=(0,a.r7)(o.activeAction);if(window.innerHeight-i.bottom-n.activeActionMenu.offsetHeight<20){var r=document.body.classList.contains("gflow-grid--fullscreen-active")?o.activeAction.offsetHeight:0;n.activeActionMenu.style.marginTop="-".concat(r+n.activeActionMenu.offsetHeight,"px"),n.activeActionMenu.style.top="".concat(i.top+o.activeAction.offsetHeight-e,"px")}else{var c=document.body.classList.contains("gflow-grid--fullscreen-active")?o.activeAction.offsetHeight:2*o.activeAction.offsetHeight;n.activeActionMenu.style.top="".concat(i.top+c-e,"px")}n.activeActionMenu.style.left="".concat(i.left,"px")},W=function(t){return(0,a.iu)(t,o.activeAction,n.activeActionMenu,$)},$=function(){n.activeActionMenu.parentNode.removeChild(n.activeActionMenu),o.activeAction=null,n.activeActionMenu=null,o.actionMenuOpen=!1},X=function(t){var e=t.delegateTarget,i=Number(e.dataset.id),r=e.dataset.url,c=o.actionData.filter((function(t){return Number(t.entryId)===i}))[0];o.activeActionKey=t.key,o.activeGridNode=(0,a.As)(e,'[data-js="gflow-inbox"]'),o.activeRowNode=(0,a.As)(e,".ag-row"),o.activeGrid=o.activeGridNode.dataset.gridId,o.actionMenuOpen&&o.activeAction!==e&&$(),o.actionMenuOpen?$():(o.activeAction=e,function(t,e,i,r){o.actionMenuOpen=!0,o.activeActionMenuEntryId=t,o.activeActionMenuEntryUrl=i;var c=function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return'<article class="gform-admin gflow-grid__actions-menu" data-js="gflow-quick-actions-menu">\n\t\t<div class="gflow-grid__actions-menu-row">\n\t\t\t<button \n\t\t\t\tclass="gflow-grid__actions-menu-trigger" \n\t\t\t\tdata-js="gflow-quick-actions-menu-trigger" \n\t\t\t\tdata-action="edit"\n\t\t\t\tdata-url="'.concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",'"\n\t\t\t>\n\t\t\t\t').concat(F.view_entry,"\n\t\t\t</button>\n\t\t</div>\n\t\t").concat(t.map((function(t){return'\n\t\t\t\t\t<div class="gflow-grid__actions-menu-row">\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclass="gflow-grid__actions-menu-trigger gflow-grid__actions-menu-trigger--'.concat(t.key,'"\n\t\t\t\t\t\t\tdata-js="gflow-quick-actions-menu-trigger" \n\t\t\t\t\t\t\tdata-action="').concat(t.key,'"\n\t\t\t\t\t\t\tdata-requires-note="').concat(t.show_note_field,'"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t').concat(t.label,'\n\t\t\t\t\t\t\t<span class="gform-loader--spin">').concat(F.loading,'</span>\n\t\t\t\t\t\t\t<i class="gflow_grid__actions-icon-success gflow-icon gflow-icon--check"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>')})).join(""),'\n\t\t<div class="gflow-grid__actions-menu-note">\n\t\t\t<span class="gflow-grid__actions-menu-heading">').concat(F.actions_menu_heading,'</span>\n\t\t\t<textarea class="gflow-grid__actions-menu-textarea" data-js="gflow-quick-actions-menu-note"></textarea>\n\t\t\t<div class="gflow-grid__actions-menu-footer">\n\t\t\t\t<button \n\t\t\t\t\tclass="gform-button gform-button--white gform-button--size-sm gflow_grid__actions-menu-submit" \n\t\t\t\t\tdata-js="gflow-quick-actions-menu-note-action" \n\t\t\t\t\tdata-action="submit"\n\t\t\t\t\tdisabled="disabled"\n\t\t\t\t>\n\t\t\t\t\t').concat(F.submit,'\n\t\t\t\t\t<span class="gform-loader--spin">').concat(F.loading,'</span>\n\t\t\t\t\t<i class="gflow_grid__actions-icon-success gflow-icon gflow-icon--check"></i>\n\t\t\t\t</button>\n\t\t\t\t<button \n\t\t\t\t\tclass="gform-button gform-button--white gform-button--size-sm gform-button--no-border" \n\t\t\t\t\tdata-js="gflow-quick-actions-menu-note-action"\n\t\t\t\t\tdata-action="cancel"\n\t\t\t\t>').concat(F.cancel,"</button>\n\t\t\t</div>\n\t\t</div>\n\t</article>")}(i,e.actions);document.body.insertAdjacentHTML("beforeend",c),n.activeActionMenu=(0,a.v$)("gflow-quick-actions-menu")[0],n.activeActionMenuNote=(0,a.v$)("gflow-quick-actions-menu-note",!1,n.activeActionMenu)[0],n.activeActionMenuSubmit=(0,a.v$)('[data-js="gflow-quick-actions-menu-note-action"][data-action="submit"]',!1,n.activeActionMenu,!0)[0],"Enter"===r.key&&(0,a.v$)("gflow-quick-actions-menu-trigger",!1,n.activeActionMenu)[0].focus({preventScroll:!0}),B(),n.activeActionMenu.addEventListener("keydown",W)}(i,c,r,t))},J=function(t){o.actionMenuOpen&&(t.target===(0,a.v$)("gform-loading-mask")[0]||t.target===o.activeAction||n.activeActionMenu.contains(t.target)||$())},K=function(){o.actionMenuOpen&&B()},Q=function(t){o.dragging&&t.preventDefault()},Y=function(t){var e=(0,a.v$)('[data-grid-id="'.concat(t,'"]'),!1,document,!0)[0];r.gridOptions[t].onGridReady=function(e){return function(t,e){!function(t){var e=a.Xb.get(t);if(e){var i=JSON.parse(e).map((function(t){return t.colId})).sort(),n=r.gridOptions[t].columnDefs.map((function(t){return t.field})).sort();(0,a._g)(i,n)?(e=JSON.parse(e).sort((function(t){return"id"===t.colId?-1:0})),r.gridOptions[t].columnApi.applyColumnState({state:e,applyOrder:!0})):r.gridOptions[t].api.sizeColumnsToFit()}else r.gridOptions[t].api.sizeColumnsToFit()}(e)}(0,t)},r.gridOptions[t].onCellClicked=function(t){return function(t){!o.dragging&&"actions"!==t.column.colId&&o.openInNewTab&&"click"!==t.event.type&&j(t.data.url_entry)}(t)},r.gridOptions[t].onCellKeyPress=function(t){return function(t){"Enter"===t.event.key&&("actions"!==t.column.colId?j(t.data.url_entry):function(t){var e=(0,a.v$)("gflow-quick-actions-trigger",!1,t.event.target)[0];e&&X({delegateTarget:e,key:"Enter"})}(t))}(t)},S.gridMutationEvents.forEach((function(e){r.gridOptions[t][e]=M().debounce((function(e){return function(t,e){var i=r.gridOptions[e].api.getFilterModel(),n=(0,a.v$)('[data-js="gflow-inbox"][data-grid-id="'.concat(e,'"]'),!1,document,!0)[0];0===Object.keys(i).length?n.classList.remove("gflow-inbox--filters-active"):n.classList.add("gflow-inbox--filters-active"),a.Xb.put(e,JSON.stringify(r.gridOptions[e].columnApi.getColumnState()))}(0,t)}),200,!1)})),(0,a.cl)(e,'[data-js="inbox-details-link"]',"click",Q)},tt=i(6588),et=function(){var t=arguments.length<=1?void 0:arguments[1],e=arguments.length<=2?void 0:arguments[2];return Math.sign(parseInt(t)-parseInt(e))},it=function(){var t="object"===(0,tt.Z)(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new Date(1e3*(arguments.length<=1?void 0:arguments[1])),e=new Date(1e3*(arguments.length<=2?void 0:arguments[2])),i=0;return e.setDate(e.getUTCDate()),e.setMonth(e.getUTCMonth()),t.setHours(0,0,0,0),e.setHours(0,0,0,0),e<t?i=-1:e>t&&(i=1),void 0===(arguments.length<=5?void 0:arguments[5])?i:-1*i},at=function(t){var e=t.colDef.displayKey;return t.data[e]},nt=function(t){return t.valueFormatter=at,"string"===t.compareType?t:"date"===t.compareType?(t.comparator=it.bind(null,t),t.filterParams={comparator:it.bind(null,t),inRangeInclusive:!0},t.filter="agDateColumnFilter",t):(t.comparator=et.bind(null,t),t)},ot=function(){return(0,x.Z)((function t(){(0,C.Z)(this,t)}),[{key:"init",value:function(t){this.eGui=document.createElement("div"),this.eGui.innerHTML="\n\t\t\t<span>".concat(t.valueFormatted,'</span>\n\t\t\t<a \n\t\t\t\tclass="gflow-inbox__entry-cell-link" \n\t\t\t\tdata-js="inbox-details-link" \n\t\t\t\thref="').concat(t.node.data.url_entry,'" \n\t\t\t\ttabindex="-1"\n\t\t\t></a>\n\t\t')}},{key:"getGui",value:function(){return this.eGui}}])}(),rt=i(5683),ct=i.n(rt),dt=i(9801),gt=i(9509),lt=i.n(gt),st=i(7063),ut=null===f()||void 0===f()?void 0:f().endpoints,pt=function(){var t={};for(var e in ut){var i=ut[e];t[e]={endpoint:(0,G.template)("".concat(i.path).concat(i.rest_params)),nonce:i.nonce}}return t}(),ft=i(5237),_t=i(1822),vt=i(7e3),mt=i(4124),ht=i(9969),bt=i(4019),wt=i.n(bt),yt=i(5559),Tt=i.n(yt),kt=i(9659),Ct=i.n(kt);function xt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function At(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(i),!0).forEach((function(e){(0,st.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):xt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ot(t){return Lt.apply(this,arguments)}function Lt(){return Lt=(0,dt.Z)(lt().mark((function t(e){var i,n,o,r,c,d,g,l,s,u,p,_,v,m=arguments;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=At({method:"GET"},i=m.length>1&&void 0!==m[1]?m[1]:{}),o=(0,ft.Z)(["body"],n),e&&pt[e]){t.next=5;break}throw new Error("Unknown pathKey: ".concat(e));case 5:return r=o.baseUrl||f().site_url,c=pt[e].endpoint,(0,_t.Z)(Function,c)&&(c=pt[e].endpoint(At(At({},i.body),o.restParams))),console.log(r),d="".concat(r).concat(c),"GET"!==o.method&&"HEAD"!==o.method&&(g=i.body?i.body:{},o.body=(0,a.D$)(g)),o.json&&(o.body=JSON.stringify(o.json)),(l=o.params||{})&&!(0,vt.Z)(l)&&(s=(0,G.pickBy)(l,G.identity),u=(0,ht.stringify)(s,{arrayFormat:"bracket"}),d="".concat(d,"?").concat(u)),p=pt[e].nonce?{"X-WP-Nonce":pt[e].nonce,"Content-Type":"application/json"}:{},_=o.headers?At(At({},p),o.headers):p,console.info("Fetching url: ".concat(d)),console.info("with options",At(At({},o),{},{body:o.body})),console.info("and headers: ",_),v=Date.now(),t.abrupt("return",window.fetch(d,At(At({},o),{},{headers:_})).then((function(t){return t.ok?t.text().then((function(i){try{var a=JSON.parse(i),n=Date.now()-v;return console.info("Data for ".concat(e," in ").concat(n,"ms:"),a),{data:a,status:t.status,totalPages:t.headers.get("x-wp-totalpages"),totalPosts:t.headers.get("x-wp-total")}}catch(e){var o=Tt()(wt()(Ct()(i))),r=new Error("Invalid server response. ".concat(o));throw r.detail={url:d,data:o,status:t.status,error:e},r}})):(0,mt.Z)(t.headers.get("Content-Type"),"application/json")?t.text().then((function(i){try{var a=JSON.parse(i);return console.info("Data for ".concat(e,":"),a),{data:a,status:t.status}}catch(e){var n=Tt()(wt()(Ct()(i))),o=new Error("Invalid server response. ".concat(n));throw o.detail={url:d,data:n,status:t.status,error:e},o}})):t.text().then((function(e){var i=Tt()(wt()(Ct()(e))),a=new Error("Unknown server response. ".concat(i));throw a.detail={url:d,data:i,status:t.status},a}))})).catch((function(t){return console.info(JSON.stringify(t)),console.info(t.detail),{error:t}})));case 21:case"end":return t.stop()}}),t)}))),Lt.apply(this,arguments)}var Gt=window.gravityflow_inbox_strings||{},Mt=function(){var t=(0,dt.Z)(lt().mark((function t(e,i,n,o){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!f().is_user_logged_in){t.next=6;break}return t.next=3,Ot("inbox/preferences",{method:"PUT",headers:{"X-WP-Nonce":null==Gt?void 0:Gt.nonce,"Content-type":"application/json; charset=UTF-8"},json:{key:e,value:i,type:n,user_id:f().user_id,view:o}});case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=new Promise((function(t){a.Xb.put("".concat(o,"_setting_").concat(e),i),t({key:e,value:i,type:n,user_id:f().user_id,view:o})}));case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)})));return function(e,i,a,n){return t.apply(this,arguments)}}(),St=(null===f()||void 0===f()?void 0:f().grids)||{},Et=(null===f()||void 0===f()?void 0:f().i18n)||{},Dt=function(t,e){var i=r.gridOptions[t].api,a=0;i.forEachNode((function(){a++}));var n=e.add.length-e.remove.length+e.update.length;o.newRowsOnUpdate=o.newRowsOnUpdate+(n-a)},Rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(ct().now())return o.newRowsOnUpdate=0,void(document.title=o.cleanDocTitle);o.newRowsOnUpdate>0?(document.title="(".concat(o.newRowsOnUpdate,") ").concat(o.cleanDocTitle),function(t){if(t&&St[t].push_enabled){var e=r.gridOptions[t].api.getDisplayedRowCount();if(e!==o.previousRowCount){var i=o.latestUpdateData.add[0],a="noti-".concat(i.id);r.notifications[a]=new window.Notification(Et.inbox_notification_title,{body:Et.new_inbox_items}),o.previousRowCount=e,r.notifications[a].addEventListener("click",(function(t){o.latestUpdateData.add.length>1?(window.parent.focus(),window.focus(),t.target.close()):window.open(i.url_entry,a).focus()}),!1)}}}(t)):document.title=o.cleanDocTitle},jt=function(t,e){"granted"===t?(Mt("push_enabled",!0,"view",e),St[e].push_enabled=!0):(Mt("push_enabled",!1,"view",e),St[e].push_enabled=!1)},Ft=i(4964),It=(null===f()||void 0===f()?void 0:f().grids)||{},Nt=(null===f()||void 0===f()?void 0:f().i18n)||{},Pt=function(t){"inbox-setting--push-enabled"===t.delegateTarget.name&&function(t){if("Notification"in window){var e=(0,a.As)(t,".gform-flyout").previousElementSibling,i=(0,a.v$)("gflow-inbox",!1,e)[0];t.checked?(0,a.Qg)()?window.Notification.requestPermission().then((function(t){jt(t,i.dataset.gridId)})):window.Notification.requestPermission((function(t){jt(t,i.dataset.gridId)})):(Mt("push_enabled",!1,"",i.dataset.gridId),St[i.dataset.gridId].push_enabled=!1)}else alert(Et.browser_notifications_error)}(t.delegateTarget)},zt=(null===f()||void 0===f()?void 0:f().i18n)||{},qt={selectAll:zt.ag_grid.selectAll,selectAllSearchResults:zt.ag_grid.selectAllSearchResults,searchOoo:zt.ag_grid.searchOoo,blanks:zt.ag_grid.blanks,noMatches:zt.ag_grid.noMatches,filterOoo:zt.ag_grid.filterOoo,equals:zt.ag_grid.equals,notEqual:zt.ag_grid.notEqual,blank:zt.ag_grid.blank,notBlank:zt.ag_grid.notBlank,empty:zt.ag_grid.empty,lessThan:zt.ag_grid.lessThan,greaterThan:zt.ag_grid.greaterThan,lessThanOrEqual:zt.ag_grid.lessThanOrEqual,greaterThanOrEqual:zt.ag_grid.greaterThanOrEqual,inRange:zt.ag_grid.inRange,inRangeStart:zt.ag_grid.inRangeStart,inRangeEnd:zt.ag_grid.inRangeEnd,contains:zt.ag_grid.contains,notContains:zt.ag_grid.notContains,startsWith:zt.ag_grid.startsWith,endsWith:zt.ag_grid.endsWith,dateFormatOoo:zt.ag_grid.dateFormatOoo,andCondition:zt.ag_grid.andCondition,orCondition:zt.ag_grid.orCondition,applyFilter:zt.ag_grid.applyFilter,resetFilter:zt.ag_grid.resetFilter,clearFilter:zt.ag_grid.clearFilter,cancelFilter:zt.ag_grid.cancelFilter,textFilter:zt.ag_grid.textFilter,numberFilter:zt.ag_grid.numberFilter,dateFilter:zt.ag_grid.dateFilter,setFilter:zt.ag_grid.setFilter,columns:zt.ag_grid.columns,filters:zt.ag_grid.filters,pivotMode:zt.ag_grid.pivotMode,groups:zt.ag_grid.groups,rowGroupColumnsEmptyMessage:zt.ag_grid.rowGroupColumnsEmptyMessage,values:zt.ag_grid.values,valueColumnsEmptyMessage:zt.ag_grid.valueColumnsEmptyMessage,pivots:zt.ag_grid.pivots,pivotColumnsEmptyMessage:zt.ag_grid.pivotColumnsEmptyMessage,group:zt.ag_grid.group,rowDragRows:zt.ag_grid.rowDragRows,loadingOoo:zt.ag_grid.loadingOoo,noRowsToShow:zt.ag_grid.noRowsToShow,enabled:zt.ag_grid.enabled,pinColumn:zt.ag_grid.pinColumn,pinLeft:zt.ag_grid.pinLeft,pinRight:zt.ag_grid.pinRight,noPin:zt.ag_grid.noPin,valueAggregation:zt.ag_grid.valueAggregation,autosizeThiscolumn:zt.ag_grid.autosizeThiscolumn,autosizeAllColumns:zt.ag_grid.autosizeAllColumns,groupBy:zt.ag_grid.groupBy,ungroupBy:zt.ag_grid.ungroupBy,addToValues:zt.ag_grid.addToValues,removeFromValues:zt.ag_grid.removeFromValues,addToLabels:zt.ag_grid.addToLabels,removeFromLabels:zt.ag_grid.removeFromLabels,resetColumns:zt.ag_grid.resetColumns,expandAll:zt.ag_grid.expandAll,collapseAll:zt.ag_grid.collapseAll,copy:zt.ag_grid.copy,ctrlC:zt.ag_grid.ctrlC,copyWithHeaders:zt.ag_grid.copyWithHeaders,copyWithHeaderGroups:zt.ag_grid.copyWithHeaderGroups,paste:zt.ag_grid.paste,ctrlV:zt.ag_grid.ctrlV,export:zt.ag_grid.export,csvExport:zt.ag_grid.csvExport,excelExport:zt.ag_grid.excelExport,sum:zt.ag_grid.sum,min:zt.ag_grid.min,max:zt.ag_grid.max,none:zt.ag_grid.none,count:zt.ag_grid.count,avg:zt.ag_grid.avg,filteredRows:zt.ag_grid.filteredRows,selectedRows:zt.ag_grid.selectedRows,totalRows:zt.ag_grid.totalRows,totalAndFilteredRows:zt.ag_grid.totalAndFilteredRows,more:zt.ag_grid.more,to:zt.ag_grid.to,of:zt.ag_grid.of,page:zt.ag_grid.page,nextPage:zt.ag_grid.nextPage,lastPage:zt.ag_grid.lastPage,firstPage:zt.ag_grid.firstPage,previousPage:zt.ag_grid.previousPage,pivotColumnGroupTotals:zt.ag_grid.pivotColumnGroupTotals,pivotChartAndPivotMode:zt.ag_grid.pivotChartAndPivotMode,pivotChart:zt.ag_grid.pivotChart,chartRange:zt.ag_grid.chartRange,columnChart:zt.ag_grid.columnChart,groupedColumn:zt.ag_grid.groupedColumn,stackedColumn:zt.ag_grid.stackedColumn,normalizedColumn:zt.ag_grid.normalizedColumn,barChart:zt.ag_grid.barChart,groupedBar:zt.ag_grid.groupedBar,stackedBar:zt.ag_grid.stackedBar,normalizedBar:zt.ag_grid.normalizedBar,pieChart:zt.ag_grid.pieChart,pie:zt.ag_grid.pie,doughnut:zt.ag_grid.doughnut,line:zt.ag_grid.line,xyChart:zt.ag_grid.xyChart,scatter:zt.ag_grid.scatter,bubble:zt.ag_grid.bubble,areaChart:zt.ag_grid.areaChart,area:zt.ag_grid.area,stackedArea:zt.ag_grid.stackedArea,normalizedArea:zt.ag_grid.normalizedArea,histogramChart:zt.ag_grid.histogramChart,combinationChart:zt.ag_grid.combinationChart,columnLineCombo:zt.ag_grid.columnLineCombo,AreaColumnCombo:zt.ag_grid.AreaColumnCombo,pivotChartTitle:zt.ag_grid.pivotChartTitle,rangeChartTitle:zt.ag_grid.rangeChartTitle,settings:zt.ag_grid.settings,data:zt.ag_grid.data,format:zt.ag_grid.format,categories:zt.ag_grid.categories,defaultCategory:zt.ag_grid.defaultCategory,series:zt.ag_grid.series,xyValues:zt.ag_grid.xyValues,paired:zt.ag_grid.paired,axis:zt.ag_grid.axis,navigator:zt.ag_grid.navigator,color:zt.ag_grid.color,thickness:zt.ag_grid.thickness,xType:zt.ag_grid.xType,automatic:zt.ag_grid.automatic,category:zt.ag_grid.category,number:zt.ag_grid.number,time:zt.ag_grid.time,xRotation:zt.ag_grid.xRotation,yRotation:zt.ag_grid.yRotation,ticks:zt.ag_grid.ticks,width:zt.ag_grid.width,height:zt.ag_grid.height,length:zt.ag_grid.length,padding:zt.ag_grid.padding,spacing:zt.ag_grid.spacing,chart:zt.ag_grid.chart,title:zt.ag_grid.title,titlePlaceholder:zt.ag_grid.titlePlaceholder,background:zt.ag_grid.background,font:zt.ag_grid.font,top:zt.ag_grid.top,right:zt.ag_grid.right,bottom:zt.ag_grid.bottom,left:zt.ag_grid.left,labels:zt.ag_grid.labels,size:zt.ag_grid.size,minSize:zt.ag_grid.minSize,maxSize:zt.ag_grid.maxSize,legend:zt.ag_grid.legend,position:zt.ag_grid.position,markerSize:zt.ag_grid.markerSize,markerStroke:zt.ag_grid.markerStroke,markerPadding:zt.ag_grid.markerPadding,itemSpacing:zt.ag_grid.itemSpacing,itemPaddingX:zt.ag_grid.itemPaddingX,itemPaddingY:zt.ag_grid.itemPaddingY,layoutHorizontalSpacing:zt.ag_grid.layoutHorizontalSpacing,layoutVerticalSpacing:zt.ag_grid.layoutVerticalSpacing,strokeWidth:zt.ag_grid.strokeWidth,offset:zt.ag_grid.offset,offsets:zt.ag_grid.offsets,tooltips:zt.ag_grid.tooltips,callout:zt.ag_grid.callout,markers:zt.ag_grid.markers,shadow:zt.ag_grid.shadow,blur:zt.ag_grid.blur,xOffset:zt.ag_grid.xOffset,yOffset:zt.ag_grid.yOffset,lineWidth:zt.ag_grid.lineWidth,normal:zt.ag_grid.normal,bold:zt.ag_grid.bold,italic:zt.ag_grid.italic,boldItalic:zt.ag_grid.boldItalic,predefined:zt.ag_grid.predefined,fillOpacity:zt.ag_grid.fillOpacity,strokeOpacity:zt.ag_grid.strokeOpacity,histogramBinCount:zt.ag_grid.histogramBinCount,columnGroup:zt.ag_grid.columnGroup,barGroup:zt.ag_grid.barGroup,pieGroup:zt.ag_grid.pieGroup,lineGroup:zt.ag_grid.lineGroup,scatterGroup:zt.ag_grid.scatterGroup,areaGroup:zt.ag_grid.areaGroup,histogramGroup:zt.ag_grid.histogramGroup,combinationGroup:zt.ag_grid.combinationGroup,groupedColumnTooltip:zt.ag_grid.groupedColumnTooltip,stackedColumnTooltip:zt.ag_grid.stackedColumnTooltip,normalizedColumnTooltip:zt.ag_grid.normalizedColumnTooltip,groupedBarTooltip:zt.ag_grid.groupedBarTooltip,stackedBarTooltip:zt.ag_grid.stackedBarTooltip,normalizedBarTooltip:zt.ag_grid.normalizedBarTooltip,pieTooltip:zt.ag_grid.pieTooltip,doughnutTooltip:zt.ag_grid.doughnutTooltip,lineTooltip:zt.ag_grid.lineTooltip,groupedAreaTooltip:zt.ag_grid.groupedAreaTooltip,stackedAreaTooltip:zt.ag_grid.stackedAreaTooltip,normalizedAreaTooltip:zt.ag_grid.normalizedAreaTooltip,scatterTooltip:zt.ag_grid.scatterTooltip,bubbleTooltip:zt.ag_grid.bubbleTooltip,histogramTooltip:zt.ag_grid.histogramTooltip,columnLineComboTooltip:zt.ag_grid.columnLineComboTooltip,areaColumnComboTooltip:zt.ag_grid.areaColumnComboTooltip,customComboTooltip:zt.ag_grid.customComboTooltip,noDataToChart:zt.ag_grid.noDataToChart,pivotChartRequiresPivotMode:zt.ag_grid.pivotChartRequiresPivotMode,chartSettingsToolbarTooltip:zt.ag_grid.chartSettingsToolbarTooltip,chartLinkToolbarTooltip:zt.ag_grid.chartLinkToolbarTooltip,chartUnlinkToolbarTooltip:zt.ag_grid.chartUnlinkToolbarTooltip,chartDownloadToolbarTooltip:zt.ag_grid.chartDownloadToolbarTooltip,seriesChartType:zt.ag_grid.seriesChartType,seriesType:zt.ag_grid.seriesType,secondaryAxis:zt.ag_grid.secondaryAxis,ariaHidden:zt.ag_grid.ariaHidden,ariaVisible:zt.ag_grid.ariaVisible,ariaChecked:zt.ag_grid.ariaChecked,ariaUnchecked:zt.ag_grid.ariaUnchecked,ariaIndeterminate:zt.ag_grid.ariaIndeterminate,ariaDefaultListName:zt.ag_grid.ariaDefaultListName,ariaColumnSelectAll:zt.ag_grid.ariaColumnSelectAll,ariaInputEditor:zt.ag_grid.ariaInputEditor,ariaDateFilterInput:zt.ag_grid.ariaDateFilterInput,ariaFilterList:zt.ag_grid.ariaFilterList,ariaFilterInput:zt.ag_grid.ariaFilterInput,ariaFilterColumnsInput:zt.ag_grid.ariaFilterColumnsInput,ariaFilterValue:zt.ag_grid.ariaFilterValue,ariaFilterFromValue:zt.ag_grid.ariaFilterFromValue,ariaFilterToValue:zt.ag_grid.ariaFilterToValue,ariaFilteringOperator:zt.ag_grid.ariaFilteringOperator,ariaColumn:zt.ag_grid.ariaColumn,ariaColumnList:zt.ag_grid.ariaColumnList,ariaColumnGroup:zt.ag_grid.ariaColumnGroup,ariaRowSelect:zt.ag_grid.ariaRowSelect,ariaRowDeselect:zt.ag_grid.ariaRowDeselect,ariaRowToggleSelection:zt.ag_grid.ariaRowToggleSelection,ariaRowSelectAll:zt.ag_grid.ariaRowSelectAll,ariaToggleVisibility:zt.ag_grid.ariaToggleVisibility,ariaSearch:zt.ag_grid.ariaSearch,ariaSearchFilterValues:zt.ag_grid.ariaSearchFilterValues,ariaRowGroupDropZonePanelLabel:zt.ag_grid.ariaRowGroupDropZonePanelLabel,ariaValuesDropZonePanelLabel:zt.ag_grid.ariaValuesDropZonePanelLabel,ariaPivotDropZonePanelLabel:zt.ag_grid.ariaPivotDropZonePanelLabel,ariaDropZoneColumnComponentDescription:zt.ag_grid.ariaDropZoneColumnComponentDescription,ariaDropZoneColumnValueItemDescription:zt.ag_grid.ariaDropZoneColumnValueItemDescription,ariaLabelColumnMenu:zt.ag_grid.ariaLabelColumnMenu,ariaLabelCellEditor:zt.ag_grid.ariaLabelCellEditor,ariaLabelDialog:zt.ag_grid.ariaLabelDialog,ariaLabelSelectField:zt.ag_grid.ariaLabelSelectField,ariaLabelTooltip:zt.ag_grid.ariaLabelTooltip,ariaLabelContextMenu:zt.ag_grid.ariaLabelContextMenu,ariaLabelSubMenu:zt.ag_grid.ariaLabelSubMenu,ariaLabelAggregationFunction:zt.ag_grid.ariaLabelAggregationFunction,thousandSeparator:zt.ag_grid.thousandSeparator,decimalSeparator:zt.ag_grid.decimalSeparator},Ht=(null===f()||void 0===f()?void 0:f().grids)||{},Zt=(null===f()||void 0===f()?void 0:f().i18n)||{},Vt=function(t,e){var i,n=w(t);null!==(i=Ht[n])&&void 0!==i&&i.grid_options||console.error("".concat(Zt.options_for_grid_not_found," ").concat(n)),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";f().is_user_logged_in||S.localStorageSettings.forEach((function(e){var i=a.Xb.get("".concat(t,"_setting_").concat(e));Ht[t][e]=!!i&&"true"===i}))}(n),t.setAttribute("data-grid-index",e),r.gridOptions[n]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return(0,u.Z)({},m[t].grid_options,v)}(n),Ht[n].push_enabled&&(o.pushEnabled=!0),r.gridOptions[n].overlayNoRowsTemplate='<span class="ag-overlay-no-rows-center">'.concat(Zt.no_entries,"</span>"),Y(n),r.gridOptions[n].localeText=qt;var c={"gflow-inbox__html-cell":function(t){return/<[a-z/][\s\S]*>/i.test(t.value)}};r.gridOptions[n].columnDefs.forEach((function(t){t.cellClassRules&&(t.cellClassRules=c)})),r.gridOptions[n].getRowNodeId=function(t){return parseInt(t.id)},r.gridOptions[n].components={actionsRenderer:P,cellLinkRenderer:ot,agDateInput:L},r.gridOptions[n].getRowStyle=function(t){if(t.data.step_highlight)return{borderLeft:"3px solid ".concat(t.data.step_highlight)}},r.gridOptions[n].columnDefs.forEach((function(t,e){r.gridOptions[n].columnDefs[e]=nt(t)})),r.grids[n]=new k.rj(t,r.gridOptions[n]),function(t){t.insertAdjacentHTML("afterbegin",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.EL)("inbox-header-");return'\n\t<div class="gflow-grid__header">\n\t\t<i class="gflow-grid__search-icon gflow-icon gflow-icon--search"></i>\n\t\t'.concat(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"text",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"gform-input",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return'\n\t<input \n\t\tclass="'.concat(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"gform-input",'" \n\t\tvalue="').concat(a,'" \n\t\ttype="').concat(t,'" \n\t\tdata-js="').concat(n,'"\n\t\t').concat(o?'placeholder="'.concat(o,'"'):"","\n\t\t").concat(e?'id="'.concat(e,'"'):"","\n\t\t").concat(i?'name="'.concat(i,'"'):"","\n\t/>\n\t")}("search",t,"","","gform-input gflow-inbox__search","gflow-inbox-search",F.search_inbox),"\n\t</div>\n\t")}())}(t),function(t,e,i){t.insertAdjacentHTML("afterbegin",function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return'\n\t<button \n\t\tclass="gflow-grid__button gflow-grid__button--settings gflow-icon gflow-icon--settings" \n\t\tdata-js="'.concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"grid-settings",'" \n\t\tdata-grid-id="').concat(e,'"\n\t\ttitle="').concat(t,'"\n\t></button>\n\t')}("inbox-settings",Nt.toggle_settings_title,e)),t.insertAdjacentHTML("afterbegin",function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return'\n\t<button \n\t\tclass="gflow-grid__button gflow-grid__button--fullscreen gflow-icon gflow-icon--maximize-2" \n\t\tdata-js="'.concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"grid-fullscreen",'" \n\t\ttitle="').concat(t,'"\n\t></button>\n\t')}("inbox-fullscreeen",Nt.toggle_fullscreen_title)),t.insertAdjacentHTML("afterbegin",function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return'\n\t<button \n\t\tclass="gflow-grid__button gflow-grid__button--clear-filters gflow-icon gflow-icon--trash" \n\t\tdata-js="'.concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"grid-clear-filters",'" \n\t\ttitle="').concat(t,'"\n\t></button>\n\t')}("inbox-clear-filters",Nt.toggle_clear_filters_title)),r.flyouts["".concat(e,"-").concat(i)]=new Ft.Z({content:I(It[e],"".concat(e,"-").concat(i)),maxWidth:650,position:"absolute",target:'.gflow-inbox.gflow-grid[data-grid-id="'.concat(e,'"]'),title:Nt.inbox_settings,triggers:'[data-js="inbox-settings"][data-grid-id="'.concat(e,'"]'),wrapperClasses:"gform-flyout gform-flyout--inbox-settings"})}(t,n,e),setTimeout((function(){t.classList.add("gflow-inbox--reveal"),t.parentElement.classList.add("gflow-inbox--reveal"),setTimeout((function(){var e=(0,a.v$)("gflow-inbox-loader",!1,t.parentElement.parentElement)[0];e.parentNode.removeChild(e)}),200)}),300)},Ut=(null===f()||void 0===f()?void 0:f().grids)||{},Bt=function(){var t=(0,dt.Z)(lt().mark((function t(e){var i,a,n,c;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=h(e),t.next=3,Ot("inbox/changes",{method:"POST",body:{gflow_access_token:(null===(i=Ut[e])||void 0===i?void 0:i.current_user_token)||null,current_ids:n,search_args:JSON.stringify((null===(a=Ut[e])||void 0===a||null===(a=a.grid_options)||void 0===a?void 0:a.searchArgs)||null)}});case 3:c=t.sent,o.latestUpdateData=c.data,Dt(e,c.data),c.data.addIndex=0,r.gridOptions[e].api.applyTransaction(c.data);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Wt=function(t){n.containers=t,n.containers.forEach((function(t,e){return Vt(t,e)})),n.containers.forEach((function(t){Ut[t.dataset.gridId].fetch_enabled&&(r.refreshTimers[t.dataset.gridId]=setInterval((function(){Bt(t.dataset.gridId).then((function(){Rt(t.dataset.gridId)}))}),1e3*Ut[t.dataset.gridId].fetch_interval))})),document.addEventListener("keydown",E),document.addEventListener("keyup",E),(0,a.cl)(document.body,'[data-js="gflow-quick-actions-trigger"]',"click",X),(0,a.cl)(document.body,'[data-js="gflow-quick-actions-menu-trigger"]',"click",Z),(0,a.cl)(document.body,'[data-js="gflow-quick-actions-menu-note"]',"keyup",V),(0,a.cl)(document.body,'[data-js="gflow-quick-actions-menu-note-action"]',"click",U),document.addEventListener("click",J),window.addEventListener("resize",K),(0,a.cl)(document.body,'[data-js="inbox-setting"]',"click",Pt),(0,a.cl)(document.body,'[data-js="inbox-fullscreeen"]',"click",l),document.addEventListener("keydown",s),(0,a.cl)(document.body,'[data-js="inbox-clear-filters"]',"click",c),(0,a.cl)(document.body,'[data-js="gflow-inbox-search"]',"keyup",y),(0,a.cl)(document.body,'[data-js="gflow-inbox-search"]',"search",T),document.addEventListener("gform-utils/horizontal-drag-started",(function(){o.dragging=!0})),document.addEventListener("gform-utils/horizontal-drag-ended",(function(){setTimeout((function(){o.dragging=!1}),200)})),ct().on("focus",(function(){o.notificationShown=!1,Rt()})),ct().on("blur",(function(){o.openInNewTab=!1})),o.pushEnabled&&void 0!==window.Notification&&"granted"!==window.Notification.permission&&window.Notification.requestPermission(),console.info("Gravity Flow Common: Initialized inbox components.")}}}]);